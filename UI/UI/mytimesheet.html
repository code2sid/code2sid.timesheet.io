<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="style/style.css" rel="stylesheet" />
    <link href="style/bootstrap.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(function () {
            $(function () {
                $("#datepicker").datepicker({
                    showOn: "button",
                    buttonImage: "/images/calendar.png",
                    buttonImageOnly: true,
                    buttonText: "Select date"
                });
            });
        });


    </script>

    <script type="text/javascript">
        function onchange() {
            currentdt = new Date($("#datepicker").val());
            setWeek(currentdt);
        }

        var currentdt = new Date;
        function setWeek(selectedDate) {
            var curr = selectedDate == undefined ? new Date : selectedDate;
            var Monday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 1));
            var Tuesday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 2));
            var Wednesday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 3));
            var Thursday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 4));
            var Friday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 5));
            var Saturday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 6));
            var Sunday = new Date(curr.setDate(curr.getDate() - curr.getDay() + 7));

            const MONTH_NAMES = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];


            $("#MonDate").html(MONTH_NAMES[Monday.getMonth()] + " " + Monday.getDate());
            $("#TueDate").html(MONTH_NAMES[Tuesday.getMonth()] + " " + Tuesday.getDate());
            $("#WedDate").html(MONTH_NAMES[Wednesday.getMonth()] + " " + Wednesday.getDate());
            $("#ThuDate").html(MONTH_NAMES[Thursday.getMonth()] + " " + Thursday.getDate());
            $("#FriDate").html(MONTH_NAMES[Friday.getMonth()] + " " + Friday.getDate());
            $("#SatDate").html(MONTH_NAMES[Saturday.getMonth()] + " " + Saturday.getDate());
            $("#SunDate").html(MONTH_NAMES[Sunday.getMonth()] + " " + Sunday.getDate());

            $("#selectedWeek").html(MONTH_NAMES[Monday.getMonth()] + "-" + Monday.getDate() + "-" + Monday.getFullYear() + " to " +
                MONTH_NAMES[Sunday.getMonth()] + "-" + Sunday.getDate() + "-" + Sunday.getFullYear()
            );
        }

        function UpdateWeek(val) {
            var newDt = new Date(currentdt);
            newDt.setDate(newDt.getDate() + val);
            currentdt = new Date(newDt);
            setWeek(newDt);
        }
    </script>

</head>
<body>
    <br />
    <br />
    <br />
    <br />

    <div class="mainPage">
        <div id="weekSelector">
            <ul>
                <li>
                    <form name="timesheetForm" method="post" action="/WeekTime.do">
                        <a class="previous" href="javascript: UpdateWeek(-7);"><img src="/images/previous2.png" alt="prev" title="Previous Week" height="25" width="20"></a>
                        <input type="button" name="date11Form" value="Current Week" onclick="javascript: setWeek();" class="btn-week">
                        <a class="next" href="javascript:UpdateWeek(7);"><img src="/images/next2.png" alt="next" title="Next Week" height="25" width="20"></a>
                        <input type="hidden" id="datepicker" oninput="this.onchange(this);">
                    </form>
                </li>
            </ul>
        </div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <div id="timesheet_top_panel">
            <h2>
                sid's hours from <label id="selectedWeek"></label>
                <a class="sowcmnts" data-toggle="modal" data-target="#approver_details" href="javascript:void(0);" onclick="javascript:commentsBoxOpen();">Show All Comments</a>
            </h2>
        </div>
        <table id="table" class="entries weekly" cellspacing="0" summary="Spent Efforts">
            <thead class="subhead weekview">
                <tr>
                    <th width="25%" class="txtL" style="border-left:1px solid #9EB6CE;" colspan="2"><b>Project/Job</b></th>
                    <th class="txtL" width="20%"><b>Task/Service</b></th>
                    <th width="100"><b>Mon</b><br><b><label id="MonDate"></label></b></th>
                    <th width="100"><b>Tue</b><br><b><label id="TueDate"></label></b></th>
                    <th width="100"><b>Wed</b><br><b><label id="WedDate"></label></b></th>
                    <th width="100"><b>Thu</b><br><b><label id="ThuDate"></label></b></th>
                    <th width="100"><b>Fri</b><br><b><label id="FriDate"></label></b></th>
                    <th width="100"><b>Sat</b><br><b><label id="SatDate"></label></b></th>
                    <th width="100"><b>Sun</b><br><b><label id="SunDate"></label></b></th>
                    <th class="controls-header"><b>Total</b></th>
                    <th style="border-right:1px solid #9EB6CE;" class="controls-header"><b></b></th>

                </tr>
            </thead>
            <tbody>
                <tr class="timeTotal">
                    <td></td>
                    <td></td>
                    <td>Time Entry Comments</td>
                    <td colspan="9" style="text-align:left;">
                        <span style="vertical-align:top;">
                            <textarea id="commentsForm" placeholder="Comments for Highlighted Date Cell (Max 1024 characters)" name="commentsForm" rows="1" onchange="getComments(update,this);"
                                      style="width:100%;height:25px;" class="inputexpense"></textarea>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td colspan="13">
                        <div id="add_form" class="add_row_form">
                            <div class="row">
                                <div class="col-md-1">
                                    <a class="btn btn-success btn-sm" href="javascript:addRow('no')" data-original-title="Add New Row" title="Add New Row" aria-expanded="false"> Add Row <span class="fa fa-plus-square"></span></a>
                                </div>
                                <div class="col-md-3">
                                    <select style="width: 100%; display: block;" name="project_codeForm" id="select2" onchange="getTaskList(this);" class="pq-select">
                                        <option value="select project">Select Project</option>
                                        <option value="INT,69007">Internal</option>
                                        <option value="312228VP,69007">Market data integration</option>
                                        <option value="S-Project,69009">Sample Project</option>
                                    </select>
                                </div>
                                <div class="col-md-3" id="taskList">
                                    <select style="width: 100%; display: block;" id="project_selector" class="pq-select" name="taskCodeForm">
                                        <option value="select task">Select Task...</option>
                                    </select>

                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
<script type="text/javascript">
    setWeek((new Date));
    getProjects(101);

</script>

</html>
